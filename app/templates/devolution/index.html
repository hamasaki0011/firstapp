{% extends 'devolution/base.html' %}

{% block content %}

<div class="container">
    <br>
    <h3>システム仕様書</h3>
    <p>HTML、CSSなどのフロントエンド技術に習熟していないのでページ構成が見難いです</p>
    <p id="tabcontrol">
        <a href="#tabpage1">はじめに</a>
        <a href="#tabpage2">概要</a>
        <a href="#tabpage3">Webアプリ開発環境</a>
        <a href="#tabpage4">実験検証用のサーバー</a>
        <a href="#tabpage5">Webアプリ構造</a>
    </p>
    <div id="tabbody">
        <div id="tabpage1">
            {% comment %} page_0:はじめに {% endcomment %}
            <p>{% include 'devolution/page_1.html' %}</p>
        </div>
        <div id="tabpage2">
            {% comment %} page_1:概要 {% endcomment %}
            <p>{% include 'devolution/page_2.html' %}</p>0
        </div>
        <div id="tabpage3">
            {% comment %} page_2:Webアプリ開発環境構築 {% endcomment %}
            <p>{% include 'devolution/page_3.html' %}</p>
        </div>
        <div id="tabpage4">
            {% comment %} page_3:実験検証用のサーバー構築について {% endcomment %}
            <p>{% include 'devolution/page_4.html' %}</p>
        </div>
        <div id="tabpage5">

            <form>
                <a class="btn btn-default" href="{% url 'devolution:index' %}"><span class="glyphicon glyphicon-list"></span>目次に戻る</a>
            </form>        
        </div>
     </div>
    <div>
    </div>
    <br>
</div>


<div class="container">
    <div>
        <h3>■HttpRequestメソッド確認用</h3>
        <form action="/devolution/" method="post">
            {% csrf_token %}
            <div>
                <label for="name">名前</label>
                <input type="text" id="name" name="name">
            </div>
            <div>
                <label for="email">メールアドレス</label>
                <input type="mail" id="email" name="email">
            </div>
            <div>
                <label for="message">内容</label>
                <textarea id="message" name="message">{{ message }}</textarea>
            </div>
            <a>
                <form action="/devolution/" method="get">
                    {% csrf_token %}
                    <input type="submit" value="POST送信する">
                </form>
            </a>
            <a>
                <form action="/devolution/" method="get">
                    {% csrf_token %}
                    <input type="submit" value="GET送信する">
                </form>
            </a>
        <br>
        <h3>■グラフ描画確認用</h3>
        <div>
            <p><a class="btn btn-default" href="{% url 'main:upload' %}"><span class="glyphicon glyphicon-pencil"></span>データファイルをアップロード</a></p>
        </div> 
    </div>
</div>
<br>
<div class="container">
    <h3>■参考資料</h3>
    <a  class="btn btn-secondary" href="{% url 'record:record_article' %}"><span class="glyphicon glyphicon-book"></span> 開発関係情報を閲覧する</a>
    <a  class="btn btn-secondary" href="https://github.com/hamasaki0011/djangopj1.git" target="_blank" rel="noopener noreferrer"><span class="glyphicon glyphicon-book"></span> Djangoアプリ(with SQLite3)</a>
    <a  class="btn btn-secondary" href="https://github.com/hamasaki0011/webapp1.git" target="_blank" rel="noopener noreferrer"><span class="glyphicon glyphicon-book"></span> Dockerコンテナー(Djangoアプリ + SQLite3 + PostgreSQL + Gunicorn + Nginx)</a>
</div>
<br>

<script type="text/javascript">
    // ---------------------------
    // ▼A：対象要素を得る
    // ---------------------------
    var tabs = document.getElementById('tabcontrol').getElementsByTagName('a');
    var pages = document.getElementById('tabbody').getElementsByTagName('div');
    
    // ---------------------------
    // ▼B：タブの切り替え処理
    // ---------------------------
    function changeTab() {
        // ▼B-1. href属性値から対象のid名を抜き出す
        var targetid = this.href.substring(this.href.indexOf('#')+1,this.href.length);
    
       // ▼B-2. 指定のタブページだけを表示する
        for(var i=0; i<pages.length; i++) {
            if( pages[i].id != targetid ) {
                pages[i].style.display = "none";
            }
            else {
                pages[i].style.display = "block";
            }
        }

        // ▼B-3. クリックされたタブを前面に表示する
        for(var i=0; i<tabs.length; i++) {
            tabs[i].style.zIndex = "0";
        }
        this.style.zIndex = "10";
    
        // ▼B-4. ページ遷移しないようにfalseを返す
        return false;
    }
    
    // ---------------------------
    // ▼C：すべてのタブに対して、クリック時にchangeTab関数が実行されるよう指定する
    // ---------------------------
    for(var i=0; i<tabs.length; i++) {
        tabs[i].onclick = changeTab;
    }
    
    // ---------------------------
    // ▼D：最初は先頭のタブを選択しておく
    // ---------------------------
    tabs[0].onclick();
    
</script>

{% endblock %}